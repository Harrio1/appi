@echo off
echo ===== ОСТАНОВКА ПРОЦЕССОВ НА ПОРТУ 3000 =====

echo Проверяем и завершаем процессы на порту 3000...
for /f "tokens=5" %%a in ('netstat -ano ^| findstr :3000') do (
    echo Найден процесс %%a, использующий порт 3000. Завершение...
    taskkill /F /PID %%a >nul 2>&1
    if not ERRORLEVEL 1 (
        echo Процесс %%a успешно завершен.
    ) else (
        echo Ошибка при завершении процесса %%a.
    )
    timeout /t 1 >nul
)

echo Проверка завершена.
echo Если процессы на порту 3000 все еще запущены, попробуйте запустить скрипт от имени администратора.
echo ===== ПРОЦЕСС ЗАВЕРШЕН =====

pause 